<!DOCTYPE html>

{% extends "base.html" %}
{% load staticfiles %}
{% load static %}
{% block style %}
<style>
    .form-control:focus {
        box-shadow: none;
    }

    .form-control-underlined {
        border-width: 0;
        border-bottom-width: 1px;
        border-radius: 0;
        padding-left: 0;
    }

    .form-control::placeholder {
        font-size: 0.95rem;
        color: #aaa;
        font-style: italic;
    }
</style>
{% endblock %}

{% block content %}

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
            <div class="collapse navbar-collapse" id="navbarResponsive" style="font-size:20px;">
                <img src="{% static 'images/peslogo.png' %}" alt="PES Logo" height="55px">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">Home
                          <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/coordinator/company">Companies</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/coordinator/automail">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/coordinator/search">Search</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="modal" data-target="#policy" href="#policy">Policy</a>
                    </li>
                    <li class="nav-item">
                        <div class="dropdown">
                            <span class="caret" style="color:white"></span>
                            <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" style="color:white;">
                            </button>
                            <ul class="dropdown-menu" background-color="#212529">
                                <li background-color="#212529">  <a class="nav-link" href="/students/logout"><font color="grey">Logout</font></a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <br>
<div id="policy" class="modal fade" role="dialog" style="margin:5px;">
    <div class="modal-dialog modal-xl" >
        <div class="modal-content" >

          <div class="container" >

      <h1 class="header text-center">PLACEMENT POLICY</h1>

        <div class="card  bg-light ">
          <div class="card-body">
        <h5 class="hoverable">Students who are placed in a company, having a package below 4 Lakhs (Tier -3 Companies) will be permitted to participate in placement drives only for those companies that are providing an annual package of 4 Lakhs and above.</h5>
        </div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable" >Students who are placed in a company, having a package between 4
Lakhs and 8 Lakhs (Tier-2 Companies) will be permitted to participate in
placement drives only for those companies that are providing an annual
package of 8 Lakhs and above.</h5>
        </div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">Students who are placed in a company, having a package above 8 Lakhs (
Tier-1 Companies ) will not be permitted to participate in the placement
drives.</h5></div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">Students can participate in the placement drives only until they get two
offers . Once they get two offers , irrespective of their acceptance or
rejection , they are not permitted to participate in the placement drives.</h5></div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">It is not mandatory for a candidate who willingly decides not to
participate in any placement drive to attend the drive; however the
Placement Cell will not take any responsibility for it.</h5></div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">Students are hereby informed to take decisions meticulously and as they
deem fit before registering and participating for companies   visiting
campus for recruitments as long as they meet the eligibility criteria set by
the company.  The job profiles and all other details as received from the
company are also attached.  Students are advised to go through the same
before registering/participating.</h5></div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">Students are to specifically note that the eligibility criteria mentioned
are indicative (as given by the company). The company may short list
students based on a higher cut off and the same will be shared with the
students prior to the recruitment activity.</h5></div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">If any candidate submits his/her willingness to participate in any
oncampus or off-campus placement recruitment drive and thereby fails
to present himself/herself on the day of the pre-placement talk (PPT),
then he/she is likely to be blacklisted** from the training &amp; Placement .</h5></div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">If any candidate is blacklisted from the Training &amp; Placement Cell, then
he/she will not be allowed to participate in any of the placement drives
throughout the academic year.</h5></div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">Training &amp; Placement Student coordinators only hold the sole right to
deal with Training &amp; Placement matters ( Internal or External)</h5></div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">Only with the special permission of the Training &amp; Placement officer any
other student may deal with Training &amp; Placement matters.</h5></div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">All post job-offer communication between student and company should
be channelized through the placement cell.</h5></div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">Direct communications with the company officials is not allowed.</h5>
        <h5 class="card-panel hoverable">It is mandatory for the students to register in the company to
participate in the placement process of the company.</h5></div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">Attendance in PPT is mandatory after registration, to be eligible for
further placement process.</h5></div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">Students proceeding after the PPT for the next step in the selection
process of the company cannot quit in between. If a student quits in
between, then he/she will be debarred and will not be allowed to appear
in any other further placement event.</h5></div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">Any kind of misbehaviour/complaints reported by the company officials
will be taken seriously and if proven, the student will be debarred from
future campus placements/Blacklisted**.</h5></div></div>
        <div class="card bg-light">
          <div class="card-body">
        <h5 class="card-panel hoverable">All students must keep their identity card with them at the time of
PPT/Written Test/GD/PI and produce the same when demanded by the
visiting team or T&amp;P Cell Staff.</h5></div></div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
      </div>
        </div></div></div>

    <div class="container-fluid">
        <div class="row mb-5" style="margin-top:50px">
            <div class="col-lg-8 mx-auto">
                <div class="bg-white p-5 rounded shadow">
                    <div class="p-1 bg-light rounded rounded-pill shadow-sm mb-4">
                        <div class="input-group">
                            <input type="search" placeholder="Enter USN" id="search-usn"
                                aria-describedby="button-addon1" class="form-control border-0 bg-light">
                            <div class="input-group-append">
                                <button id="button-addon1" type="submit" onclick="getSearchUSN()" class="btn btn-link text-primary"><i
                                        class="fa fa-search"></i>Search</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="d-flex justify-content-center" id="holder">
            <ul class="list-group" id="student-details">
            </ul>
            <div class="d-inline-flex flex-column">
                <div id="dropdown" class= "d1" style="display:none">
                    <select class="form-control" name='myfield'>
                        <option selected value="0">Not Offered</option>
                        <option value="1">Only Internship</option>
                        <option value="2">Tier-2 FTE</option>
                        <option value="3">Tier-1 FTE</option>
                        <option value="4">Internship + FTE</option>
                        <option value="5">2 Offers</option>
                    </select>
                </div>
                <br>
                <div id="dropdown-search" style="display:none">
                    <select id='company-list' style='width: 200px;'>
                    </select>
                </div>
                <br>
                <input class="btn btn-primary" id="submit-btn" onclick="sendData()" value="Submit" style="display:none">
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function(){
            // Initialize select2
            $("#company-list").select2();
        });

        function studentDetails(json)
        {
            try
            {
                $('#student-details').remove();
            }
            catch(e)
            {
            }
            $("#holder").append($("<ul></ul>").attr("id","student-details"))
            $('#student-details').append($("<li class='list-group-item'></li>").text(json['srn']));
            $('#student-details').append($("<li class='list-group-item'></li>").text(json['name']));
            $('#student-details').append($("<li class='list-group-item'></li>").text(json['gender']));
            $('#student-details').append($("<li class='list-group-item'></li>").text(json['tenth']));
            $('#student-details').append($("<li class='list-group-item'></li>").text(json['twelfth']));
            $('#student-details').append($("<li class='list-group-item'></li>").text(json['year_of_pass']));
            $('#student-details').append($("<li class='list-group-item'></li>").text(json['highest_qualification']));
            $('#student-details').append($("<li class='list-group-item'></li>").text(json['college']));
            $('#student-details').append($("<li class='list-group-item'></li>").text(json['department']));
            for (i = 0;i < json['company_list'].length;i++)
            {
                $('#company-list').append($('<option></option>').attr('value',json['company_list'][i]).text(json['company_list'][i]));
            }
            $('#dropdown').show()
            $('#dropdown-search').show()
            $('#submit-btn').show()
        }

        function getSearchUSN()
        {
            $.ajax({
                url:'/coordinator/search',
                method:'POST',
                data:{'usn':$('#search-usn').val(), csrfmiddlewaretoken:'{{ csrf_token }}'},
                dataType:'json',
                success:function(data)
                {
                    console.log(data)
                    studentDetails(data)
                }
            })
        }

        function sendData()
        {
            $.ajax({
                url:'/coordinator/search_results',
                method:'GET',
                data:{'student_option': $('#dropdown').find(":selected").attr('value'),
                      'company_name': $('#dropdown-search').find(":selected").attr('value'),
                      'srn':$('#search-usn').val(),
                      csrfmiddlewaretoken:'{{ csrf_token }}'},
                success:function(data) {
                    location.reload()
                }
            })
        }


    </script>
{% endblock %}